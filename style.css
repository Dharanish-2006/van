body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background:#f7cfc4;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    overflow:hidden;
}


.bg-hearts{
    position:fixed;
    inset:0;
    overflow:hidden;
    pointer-events:none;
    z-index:-1;
}

/* each heart */
.bg-hearts span{
    position:absolute;
    bottom:-40px;
    color:#ff6b81;
    opacity:.6;
    animation:floatUp linear forwards;
    filter:drop-shadow(0 6px 10px rgba(0,0,0,.12));
}

/* depth layers */
.bg-hearts span.small{
    font-size:14px;
    opacity:.4;
    filter:blur(.3px);
}

.bg-hearts span.mid{
    font-size:22px;
}

.bg-hearts span.big{
    font-size:32px;
    opacity:.8;
}

@keyframes floatUp{
    0%{
        transform:translateY(0) scale(.8) rotate(0deg);
        opacity:0;
    }
    10%{ opacity:.7; }
    100%{
        transform:translateY(-110vh) scale(1.2) rotate(25deg);
        opacity:0;
    }
}


/* card */
.card{
    width:360px;
    background:white;
    padding:30px;
    text-align:center;
    border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,.15);
    transform:rotate(-2deg);
}

/* steps */
.step{ display:none; animation:fade .5s ease; }
.step.active{ display:block; }

@keyframes fade{
    from{opacity:0; transform:translateY(20px);}
    to{opacity:1; transform:translateY(0);}
}

h1{
    color:#ff3b6b;
    font-weight:600;
}

p{ color:#666; }

button{
    margin-top:15px;
    padding:10px 20px;
    border:2px solid #ff3b6b;
    background:white;
    color:#ff3b6b;
    border-radius:8px;
    cursor:pointer;
    transition:.3s;
}
button:hover{
    background:#ff3b6b;
    color:white;
}

.no{
    background:#eee;
    border-color:#bbb;
    color:#666;
}

.gif{ width:120px; margin-bottom:10px; }
.photo{ width:220px; border-radius:10px; margin-top:10px; }

.hearts{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:10px;
    margin-top:15px;
}
.heart{
    background:#ffd6e0;
    padding:15px;
    border-radius:50%;
    font-size:14px;
}

.final-card{
    position:relative;
    width:100%;
    aspect-ratio:4/5;
    cursor:pointer;
    overflow:hidden;
    background:#fdedd3;
    border-radius:14px;
    box-shadow:0 20px 45px rgba(0,0,0,.18);
    display:flex;
    align-items:center;
    justify-content:center;
    transition:transform .6s ease;
}

/* cover overlay */
.final-card .cover{
    position:absolute;
    background:url("./assets/cover.jpg");
    z-index:5;
    transition:transform 1s cubic-bezier(.22,1,.36,1);
}

/* hide image when open */
.final-card img{
    width:100%;
    height:100%;
    object-fit:cover;
    transition:opacity .6s;
}

/* text inside */
.letter-text{
    position:absolute;
    padding:24px;
    line-height:1.7;
    color:#555;
    opacity:0;
    transform:translateY(30px);
    transition:opacity .8s ease .4s, transform .8s ease .4s;
    white-space:pre-wrap;
    overflow-y:auto;
}

/* OPEN STATE */

.final-card.open .cover{
    transform:translateY(-100%);
}

.final-card.open img{
    opacity:0;
}

.final-card.open .letter-text{
    opacity:1;
    transform:translateY(0);
}
